<!DOCTYPE html>
<html lang="en">

<head>
    <title>vega-lite-linter | Docs</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link
        href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
        rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="assets/fontawesome/js/all.js"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/custom.css">


</head>

<body>
    <div class="page-wrapper">

        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a class="logo" href="index.html">
                            vega-lite-linter
                        </a>
                    </h1>
                </div>
                <!--//branding-->
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                    <li class="breadcrumb-item active">Example</li>
                </ol>
            </div>
            <!--//container-->
        </header>
        <!--//header-->

        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><span aria-hidden="true" class="icon icon_genius"></span>
                        Example</h1>
                </div>
                <!--//doc-header-->
                <div id="showcase" class="doc-body row">
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="application" class="doc-section">
                                <h2 class="section-title">Application</h2>
                                <div id="editor" class="section-block">
                                    <h3 class="block-title">VizLinter: Online Vega-Lite Editor</h3>
                                    <p>
                                        An online Vega-Lite editor <a href="http://vizlinter.idvxlab.com/" target="_blank">VizLinter</a> is created with linting and fixing functions based on vega-lite-linter for any Vega-Lite developer to build and validate visualizations.
                                        After writing or loading visualization specification in the editor panel, users can click the "Inspect Specs" button to view any 
                                        Users can correct the specification according to the description of rules on their own or check our suggested actions by clicking the "Suggest Revision" button. 
                                        To preview the automatic modifications done by these fixing advice, users can click the "Preview" button. The corresponding revised specification will show up in the code panel and users can decide to apply or reject the revisions through the "Accept" and "Reject" buttons.
                                    </p>
                                    <img class="img-fluid img-center" src="assets/images/editor.png" alt="OnlineEditor" >

                                </div>
                                <!--//section-block-->
                            </section>
                            <!--//doc-section-->

                            <section id="examples" class="doc-section">
                                <h2 class="section-title">Examples</h2>
                                <div class="section-block">
                                    vega-lite-linter provides simple APIs for visualization developers to detect and
                                        fix issues in the built visualizations.
                                </div>
                                <div id="example1" class="section-block">
                                    <h3 class="block-title">Example 1</h3>
                                    <p>In this case, the original visualization(left) has violated one rule:
                                    </p>
                                    <div class="row">
                                        <div class="col-md-12 col-12">
                                            <ul class="list">
                                                <li>Channel <code class="language-python">size</code> implies order in the data, it is not suitable for nominal data.</li>
                                            </ul>
                                        </div>
                                    </div><!--//row-->
                                    <!--//code-block-->
                                    <p>It can be fixed by changing the channel <code class="language-python">size</code> to <code class="language-python">color</code>.
                                    </p>
                                    <img class="img-fluid img-center" src="assets/images/examples/example1.png">
                                    <details class="example_code" close="">
                                        <summary data-open="Hide code snippet" data-close="Show code snippet"></summary>
                                        <div class="" id="code1">
                                            <pre class="language-python"><code>
from vega_lite_linter import Lint

vega_json = {
    &#x22;data&#x22;: {
        &#x22;url&#x22;: &#x22;data/cars.json&#x22;
    },
    &#x22;mark&#x22;: &#x22;point&#x22;,
    &#x22;encoding&#x22;: {
        &#x22;x&#x22;: {
            &#x22;field&#x22;: &#x22;Horsepower&#x22;,
            &#x22;type&#x22;: &#x22;quantitative&#x22;
        },
        &#x22;y&#x22;: {
            &#x22;field&#x22;: &#x22;Acceleration&#x22;,
            &#x22;type&#x22;: &#x22;quantitative&#x22;
        },
        &#x22;size&#x22;: {
            &#x22;field&#x22;: &#x22;Origin&#x22;,
            &#x22;type&#x22;: &#x22;nominal&#x22;
        }
    }
}

# initialize
lint = Lint(vega_json)

# show rules that the input vega-lite json violated
violate_rules = lint.lint()

# show fixing recommendation by vega-lite-linter
fix = lint.fix()

print(fix[&#x27;optimize_spec&#x27;])
                                            </code></pre>
                                        </div><!--//code-block-->
                                        </details>
                                </div>

                                <div id="example2" class="section-block">
                                    <h3 class="block-title">Example 2</h3>
                                    <p>In this case, the original visualization(left) has violated one rule:
                                    </p>
                                    <div class="row">
                                        <div class="col-md-12 col-12">
                                            <ul class="list">
                                                <li>Only use stacking for mark <code class="language-python">bar</code> and <code class="language-python">area</code>.</li>
                                            </ul>
                                        </div>
                                    </div><!--//row-->
                                    <!--//code-block-->
                                    <p>It can be fixed by changing the mark type from <code class="language-python">point</code> to <code class="language-python">bar</code>.
                                    </p>
                                    <img class="img-fluid img-center" src="assets/images/examples/example2.png">
                                    <details class="example_code" close="">
                                        <summary data-open="Hide code snippet" data-close="Show code snippet"></summary>
                                        <div class="" id="code1">
                                            <pre class="language-python"><code>
from vega_lite_linter import Lint

from vega_lite_linter import Lint

vega_json = {
    &#x22;data&#x22;: {
        &#x22;url&#x22;: &#x22;data/cars.json&#x22;
    },
    &#x22;mark&#x22;: &#x22;point&#x22;,
    &#x22;encoding&#x22;: {
        &#x22;x&#x22;: {
            &#x22;field&#x22;: &#x22;Cylinders&#x22;,
            &#x22;type&#x22;: &#x22;ordinal&#x22;
        },
        &#x22;y&#x22;: {
            &#x22;field&#x22;: &#x22;Horsepower&#x22;,
            &#x22;type&#x22;: &#x22;quantitative&#x22;,
            &#x22;aggregate&#x22;: &#x22;sum&#x22;,
            &#x22;stack&#x22;: True
        },
        &#x22;color&#x22;: {
            &#x22;field&#x22;: &#x22;Origin&#x22;,
            &#x22;type&#x22;: &#x22;nominal&#x22;
        }
    }
}

# initialize
lint = Lint(vega_json)

# show rules that the input vega-lite json violated
violate_rules = lint.lint()

# show fixing recommendation by vega-lite-linter
fix = lint.fix()

print(fix[&#x27;optimize_spec&#x27;])
                                            </code></pre>
                                        </div><!--//code-block-->
                                        </details>
                                </div>

                                <div id="example3" class="section-block">
                                    <h3 class="block-title">Example 3</h3>
                                    <p>In this case, the original visualization(left) has violated three rule:
                                    </p>
                                    <div class="row">
                                        <div class="col-md-12 col-12">
                                            <ul class="list">
                                                <li>Channel <code class="language-python">size</code> is not suitable for data with negative values.</li>
                                                <li>Only use <code class="language-python">log</code> scale on data that are all positive.</li>
                                                <li>Temporal data only supports min and max aggregation. </li>
                                            </ul>
                                        </div>
                                    </div><!--//row-->
                                    <!--//code-block-->
                                    <p>It can be fixed by actions:
                                    </p>
                                    <div class="row">
                                        <div class="col-md-12 col-12">
                                            <ul class="list">
                                                <li>Removing <code class="language-python">log</code> scale in the channel <code class="language-python">y</code>.</li>
                                                <li>Using min aggregation for the data in the channel <code class="language-python">x</code> instead.</li>
                                                <li>Changing channel <code class="language-python">size</code> to <code class="language-python">color</code>. </li>
                                            </ul>
                                        </div>
                                    </div><!--//row-->
                                    <img class="img-fluid img-center" src="assets/images/examples/example3.png">
                                    <details class="example_code" close="">
                                        <summary data-open="Hide code snippet" data-close="Show code snippet"></summary>
                                        <div class="" id="code1">
                                            <pre class="language-python"><code>
from vega_lite_linter import Lint

vega_json = {
    &#x22;data&#x22;: {
        &#x22;url&#x22;: &#x22;data/seattle-weather.csv&#x22;
    },
    &#x22;mark&#x22;: &#x22;point&#x22;,
    &#x22;encoding&#x22;: {
        &#x22;x&#x22;: {
            &#x22;field&#x22;: &#x22;date&#x22;,
            &#x22;type&#x22;: &#x22;temporal&#x22;,
            &#x22;aggregate&#x22;: &#x22;mean&#x22;
        },
        &#x22;y&#x22;: {
            &#x22;field&#x22;: &#x22;temp_max&#x22;,
            &#x22;type&#x22;: &#x22;quantitative&#x22;,
            &#x22;scale&#x22;: {
                &#x22;type&#x22;: &#x22;log&#x22;
            }
        },
        &#x22;size&#x22;: {
            &#x22;field&#x22;: &#x22;temp_min&#x22;,
            &#x22;type&#x22;: &#x22;quantitative&#x22;
        }
    }
}

# initialize
lint = Lint(vega_json)

# show rules that the input vega-lite json violated
violate_rules = lint.lint()

# show fixing recommendation by vega-lite-linter
fix = lint.fix()

print(fix[&#x27;optimize_spec&#x27;])
                                            </code></pre>
                                        </div><!--//code-block-->
                                        </details>
                                </div>

                                <div id="example4" class="section-block">
                                    <h3 class="block-title">Example 4</h3>
                                    <p>In this case, the original visualization(left) has violated three rule:
                                    </p>
                                    <div class="row">
                                        <div class="col-md-12 col-12">
                                            <ul class="list">
                                                <li>Use count aggregation once in the visualization.</li>
                                                <li>Use count aggregation or declare a data field of an encoding, instead of doing both of them.</li>
                                                <li>Nominal data cannot be aggregated. </li>
                                            </ul>
                                        </div>
                                    </div><!--//row-->
                                    <!--//code-block-->
                                    <p>It can be fixed by removing the aggregation in the channel <code class="language-python">x</code>.
                                    </p>
                                    <img class="img-fluid img-center" src="assets/images/examples/example4.png">
                                    <details class="example_code" close="">
                                        <summary data-open="Hide code snippet" data-close="Show code snippet"></summary>
                                        <div class="" id="code1">
                                            <pre class="language-python"><code>
from vega_lite_linter import Lint

vega_json = {
    &#x22;data&#x22;: {
        &#x22;url&#x22;: &#x22;data/seattle-weather.csv&#x22;
    },
    &#x22;mark&#x22;: &#x22;bar&#x22;,
    &#x22;encoding&#x22;: {
        &#x22;x&#x22;: {
            &#x22;field&#x22;: &#x22;weather&#x22;,
            &#x22;type&#x22;: &#x22;nominal&#x22;,
            &#x22;aggregate&#x22;: &#x22;count&#x22;
        },
        &#x22;y&#x22;: {
            &#x22;type&#x22;: &#x22;quantitative&#x22;,
            &#x22;aggregate&#x22;: &#x22;count&#x22;
        }
    }
}

# initialize
lint = Lint(vega_json)

# show rules that the input vega-lite json violated
violate_rules = lint.lint()

# show fixing recommendation by vega-lite-linter
fix = lint.fix()

print(fix[&#x27;optimize_spec&#x27;])
                                            </code></pre>
                                        </div><!--//code-block-->
                                        </details>
                                </div>


                                

                                
                            </section>
                            <!--//doc-section-->
                        </div>
                        <!--//content-inner-->
                    </div>
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">
                                <a class="nav-link scrollto" href="#application">Application</a>
                                <a class="nav-link scrollto" href="#examples">Examples</a>
                            </nav>
                            <!--//doc-menu-->
                        </div>
                    </div>
                    <!--//doc-sidebar-->
                </div>
                <!--//doc-body-->
            </div>
            <!--//container-->
        </div>
        <!--//doc-wrapper-->


    </div>
    <!--//page-wrapper-->

    <footer class="footer text-center">
        <div class="container">
            <p>
                <!-- vega-lite-linter -->
                <!-- <br> -->
                <small>Copyright © 2021 <a href="https://idvxlab.com/">Intelligent Big Data Visualization Lab
                        (iDV<sup>x</sup> Lab)</a> All Rights Reserved</small>

            </p>
            <!-- <br> -->
            <!-- <br> -->
            <!--/* This template is free as long as you keep the footer attribution link. If you'd like to use the template without the attribution link, you can buy the commercial license via our website: themes.3rdwavemedia.com Thank you for your support. :) */-->
            <small class="copyright">Designed with <i class="fas fa-heart"></i> by <a
                    href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a> for developers</small>

        </div>
        <!--//container-->
    </footer>
    <!--//footer-->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.4.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>

</html>