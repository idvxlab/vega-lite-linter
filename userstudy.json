{
    "one_error_0": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "Horsepower",
                    "type": "quantitative"
                },
                "y": {
                    "field": "Miles_per_Gallon",
                    "type": "quantitative"
                },
                "size": {
                    "field": "Origin",
                    "type": "nominal"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "Horsepower",
                    "type": "quantitative"
                },
                "y": {
                    "field": "Miles_per_Gallon",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Origin",
                    "type": "nominal"
                }
            }
        },
        "rules": [
            {
                "id": "size_nominal",
                "param1": "size",
                "param2": "",
                "explain": "Channel size implies order in the data, it is not suitable for nominal data."
            }
        ],
        "actions": [
            [
                "MOVE_SIZE_COLOR",
                "",
                "",
                "Change channel size to color."
            ]
        ]
    },
    "one_error_1": {
        "origin": {
            "data": {
                "url": "data/airports.csv"
            },
            "mark": "point",
            "encoding": {
                "y": {
                    "field": "latitude",
                    "type": "quantitative"
                },
                "x": {
                    "field": "longitude",
                    "type": "quantitative"
                },
                "color": {
                    "field": "state",
                    "type": "nominal"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/airports.csv"
            },
            "mark": "point",
            "encoding": {
                "y": {
                    "field": "latitude",
                    "type": "quantitative"
                },
                "x": {
                    "field": "longitude",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "color_with_cardinality_gt_twenty",
                "param1": "color",
                "param2": "",
                "explain": "Use at most 20 categorical colors in the visualization."
            }
        ],
        "actions": [
            [
                "REMOVE_CHANNEL",
                "color",
                "",
                "Remove channel color."
            ]
        ]
    },
    "one_error_2": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Acceleration",
                    "type": "quantitative"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Acceleration",
                    "type": "quantitative",
                    "bin": {
                        "maxbins": 10
                    }
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "bar_tick_continuous_x_y",
                "param1": "",
                "param2": "",
                "explain": "Use no more than one continuous data in the x and y channels for mark 'bar' and 'tick'."
            }
        ],
        "actions": [
            [
                "BIN",
                "x",
                "",
                "Use bin in the channel x."
            ]
        ]
    },
    "one_error_3": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "line",
            "encoding": {
                "x": {
                    "field": "Year",
                    "type": "temporal"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "line",
            "encoding": {
                "x": {
                    "field": "Year",
                    "type": "temporal"
                },
                "y": {
                    "field": "Miles_per_Gallon",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "line_area_without_x_y",
                "param1": "",
                "param2": "",
                "explain": "Use x and y channels for mark 'line' and 'area'."
            }
        ],
        "actions": [
            [
                "ADD_CHANNEL",
                "y",
                "",
                "Add channel y with data field miles_per_gallon."
            ]
        ]
    },
    "one_error_4": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "stack": "zero"
                },
                "color": {
                    "field": "Cylinders",
                    "type": "ordinal"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative"
                },
                "color": {
                    "field": "Cylinders",
                    "type": "ordinal"
                }
            }
        },
        "rules": [
            {
                "id": "stack_without_bar_area",
                "param1": "y",
                "param2": "",
                "explain": "Only use stacking for mark 'bar' and 'area'."
            }
        ],
        "actions": [
            [
                "REMOVE_STACK",
                "y",
                "",
                "Remove stack in the channel y."
            ]
        ]
    },
    "two_errors_0": {
        "origin": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "temp_min",
                    "type": "quantitative",
                    "bin": {
                        "maxbins": 10
                    }
                },
                "y": {
                    "field": "temp_max",
                    "type": "quantitative",
                    "aggregate": "min",
                    "bin": {
                        "maxbins": 10
                    }
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "temp_min",
                    "type": "quantitative",
                    "bin": {
                        "maxbins": 10
                    }
                },
                "y": {
                    "field": "temp_max",
                    "type": "quantitative",
                    "aggregate": "min"
                }
            }
        },
        "rules": [
            {
                "id": "bar_tick_area_line_without_continuous_x_y",
                "param1": "",
                "param2": "",
                "explain": "Bar, tick, line, area require some continuous variable on x or y."
            },
            {
                "id": "bin_and_aggregate",
                "param1": "y",
                "param2": "",
                "explain": "Use both bin and aggregate on the data in the same time is illegal."
            }
        ],
        "actions": [
            [
                "REMOVE_BIN",
                "y",
                "",
                "Remove bin in the channel y."
            ]
        ]
    },
    "two_errors_1": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "ordinal",
                    "scale": {
                        "type": "log"
                    }
                },
                "y": {
                    "field": "Acceleration",
                    "type": "quantitative",
                    "aggregate": "mn"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "ordinal",
                    "scale": {}
                },
                "y": {
                    "field": "Acceleration",
                    "type": "quantitative",
                    "aggregate": "min"
                }
            }
        },
        "rules": [
            {
                "id": "log_discrete",
                "param1": "x",
                "param2": "",
                "explain": "Only include the zero baseline value in the scale domain for non-discrete data."
            },
            {
                "id": "invalid_agg",
                "param1": "y",
                "param2": "mn",
                "explain": "Use valid aggregation, including count, mean, median, min, max, stdev, sum."
            }
        ],
        "actions": [
            [
                "CORRECT_AGGREGATE",
                "y",
                "mn",
                "Correct the aggregation of the channel y from mn to min."
            ],
            [
                "REMOVE_LOG",
                "x",
                "",
                "Remove log scale in the channel x."
            ]
        ]
    },
    "two_errors_2": {
        "origin": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "weather",
                    "type": "nominal",
                    "scale": {
                        "zero": true
                    }
                },
                "y": {
                    "field": "wind",
                    "type": "quantitative"
                },
                "size": {
                    "field": "temp_min",
                    "type": "quantitative"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "weather",
                    "type": "nominal",
                    "scale": {}
                },
                "y": {
                    "field": "wind",
                    "type": "quantitative"
                },
                "color": {
                    "field": "temp_min",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "size_negative",
                "param1": "size",
                "param2": "",
                "explain": "Channel size is not suitable for data with negative values."
            },
            {
                "id": "zero_q",
                "param1": "x",
                "param2": "",
                "explain": "Only include zero baseline in the scale domain with quantitative data."
            }
        ],
        "actions": [
            [
                "REMOVE_ZERO",
                "x",
                "",
                "Remove the zero baseline in the scale of channel x."
            ],
            [
                "MOVE_SIZE_COLOR",
                "",
                "",
                "Change channel size to color."
            ]
        ]
    },
    "two_errors_3": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "yy": {
                    "type": "quantitative",
                    "aggregate": "count"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "type": "quantitative",
                    "aggregate": "count"
                }
            }
        },
        "rules": [
            {
                "id": "bar_tick_area_line_without_continuous_x_y",
                "param1": "",
                "param2": "",
                "explain": "Bar, tick, line, area require some continuous variable on x or y."
            },
            {
                "id": "invalid_channel",
                "param1": "yy",
                "param2": "",
                "explain": "Use valid channels, including x, y, color, size."
            }
        ],
        "actions": [
            [
                "CORRECT_CHANNEL",
                "yy",
                "",
                "Correct the channel name from yy to y."
            ]
        ]
    },
    "two_errors_4": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "type": "quantitative",
                    "aggregate": "sum",
                    "scale": {
                        "zero": false
                    }
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "type": "quantitative",
                    "aggregate": "sum",
                    "scale": {
                        "zero": true
                    },
                    "field": "Miles_per_Gallon"
                }
            }
        },
        "rules": [
            {
                "id": "bar_area_without_zero_2",
                "param1": "y",
                "param2": "",
                "explain": "Mark 'bar' and 'area' require the scale of y axis to start at zero."
            },
            {
                "id": "encoding_no_field_and_not_count",
                "param1": "y",
                "param2": "",
                "explain": "Declare the data field or use count aggregation in each encoding."
            }
        ],
        "actions": [
            [
                "ADD_FIELD",
                "y",
                "",
                "Add field miles_per_gallon in the channel y."
            ],
            [
                "ZERO",
                "y",
                "",
                "Set the zero baseline in the scale of channel y."
            ]
        ]
    },
    "three_errors_0": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "bin": {
                        "maxbins": 8
                    },
                    "scale": {
                        "type": "log",
                        "zero": true
                    }
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Miles_per_Gallon",
                    "type": "quantitative",
                    "bin": {
                        "maxbins": 8
                    },
                    "scale": {
                        "zero": true
                    }
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "same_field_x_and_y",
                "param1": "",
                "param2": "",
                "explain": "Use different fields for x, and y axises."
            },
            {
                "id": "log_zero",
                "param1": "x",
                "param2": "",
                "explain": "A log scale cannot have a zero baseline in the scale domain."
            },
            {
                "id": "log_discrete",
                "param1": "x",
                "param2": "",
                "explain": "Only include the zero baseline value in the scale domain for non-discrete data."
            }
        ],
        "actions": [
            [
                "CHANGE_FIELD",
                "x",
                "",
                "Change data field of the channel x."
            ],
            [
                "REMOVE_LOG",
                "x",
                "",
                "Remove log scale in the channel x."
            ]
        ]
    },
    "three_errors_1": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "aggregate": "sum",
                    "bin": true,
                    "type": "nominal"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "aggregate": "sum"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Miles_per_Gallon",
                    "bin": true,
                    "type": "quantitative"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "aggregate": "sum"
                }
            }
        },
        "rules": [
            {
                "id": "aggregate_nominal",
                "param1": "x",
                "param2": "",
                "explain": "Nominal data cannot be aggregated."
            },
            {
                "id": "bin_and_aggregate",
                "param1": "x",
                "param2": "",
                "explain": "Use both bin and aggregate on the data in the same time is illegal."
            },
            {
                "id": "bin_q_o",
                "param1": "x",
                "param2": "nominal",
                "explain": "Only use bin on quantitative or ordinal data. "
            }
        ],
        "actions": [
            [
                "REMOVE_AGGREGATE",
                "x",
                "",
                "Remove aggregation in the channel x."
            ],
            [
                "CHANGE_FIELD",
                "x",
                "nominal",
                "Change data field of the channel x."
            ]
        ]
    },
    "three_errors_2": {
        "origin": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "stack": "normalize",
                    "type": "quantitative"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "aggregate": "sum"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/cars.json"
            },
            "mark": "bar",
            "encoding": {
                "x": {
                    "field": "Origin",
                    "type": "nominal"
                },
                "y": {
                    "field": "Horsepower",
                    "type": "quantitative",
                    "aggregate": "sum"
                }
            }
        },
        "rules": [
            {
                "id": "stack_discrete",
                "param1": "x",
                "param2": "",
                "explain": "Use stack on continuous data."
            },
            {
                "id": "stack_without_discrete_color_3",
                "param1": "color",
                "param2": "",
                "explain": "Only use stack with a color channel encoding discrete data in the visualization."
            },
            {
                "id": "enc_type_valid_1",
                "param1": "x",
                "param2": "origin",
                "explain": "Verify the consistency of data field and type 'quantitative'."
            }
        ],
        "actions": [
            [
                "REMOVE_STACK",
                "x",
                "",
                "Remove stack in the channel x."
            ],
            [
                "CHANGE_TYPE",
                "x",
                "origin",
                "Change the type of the channel x to nominal."
            ]
        ]
    },
    "three_errors_3": {
        "origin": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "date",
                    "type": "temporal",
                    "aggregate": "mean"
                },
                "y": {
                    "field": "temp_max",
                    "type": "quantitative",
                    "scale": {
                        "type": "log"
                    }
                },
                "size": {
                    "field": "temp_min",
                    "type": "quantitative"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "point",
            "encoding": {
                "x": {
                    "field": "date",
                    "type": "temporal",
                    "aggregate": "min"
                },
                "y": {
                    "field": "temp_max",
                    "type": "quantitative",
                    "scale": {}
                },
                "color": {
                    "field": "temp_min",
                    "type": "quantitative"
                }
            }
        },
        "rules": [
            {
                "id": "size_negative",
                "param1": "size",
                "param2": "",
                "explain": "Channel size is not suitable for data with negative values."
            },
            {
                "id": "log_non_positive",
                "param1": "y",
                "param2": "",
                "explain": "Use log scale on data that are all positive."
            },
            {
                "id": "aggregate_t_valid",
                "param1": "x",
                "param2": "mean",
                "explain": "Temporal only supports min and max."
            }
        ],
        "actions": [
            [
                "REMOVE_LOG",
                "y",
                "",
                "Remove log scale in the channel y."
            ],
            [
                "CHANGE_AGGREGATE",
                "x",
                "mean",
                "Use min aggregation for the data in the channel x instead."
            ],
            [
                "MOVE_SIZE_COLOR",
                "",
                "",
                "Change channel size to color."
            ]
        ]
    },
    "three_errors_4": {
        "origin": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "bar",
            "encoding": {
                "y": {
                    "field": "weather",
                    "type": "nominal"
                },
                "x": {
                    "field": "wind",
                    "type": "quantitative",
                    "aggregate": "mean",
                    "scale": {
                        "zero": false
                    },
                    "stack": "normalize"
                }
            }
        },
        "fix": {
            "data": {
                "url": "data/seattle-weather.csv"
            },
            "mark": "bar",
            "encoding": {
                "y": {
                    "field": "weather",
                    "type": "nominal"
                },
                "x": {
                    "field": "wind",
                    "type": "quantitative",
                    "aggregate": "mean",
                    "scale": {
                        "zero": true
                    }
                }
            }
        },
        "rules": [
            {
                "id": "stack_without_discrete_color_3",
                "param1": "color",
                "param2": "",
                "explain": "Only use stack with a color channel encoding discrete data in the visualization."
            },
            {
                "id": "bar_area_without_zero_1",
                "param1": "x",
                "param2": "",
                "explain": "Mark 'bar' and 'area' require the scale of x axis to start at zero."
            },
            {
                "id": "stack_without_summative_agg",
                "param1": "x",
                "param2": "mean",
                "explain": "Only use summative aggretation (count, sum, distinct, valid, missing) with stack in the encoding."
            }
        ],
        "actions": [
            [
                "REMOVE_STACK",
                "x",
                "",
                "Remove stack in the channel x."
            ],
            [
                "ZERO",
                "x",
                "",
                "Set the zero baseline in the scale of channel x."
            ]
        ]
    }
}